(kicad_pcb
  (version 20240108)
  (generator "fission-test")
  (generator_version "9.0.0")
  (general
    (thickness 1.6)
    (legacy_teardrops no)
  )
  (paper "A4")
  (layers
    (0 "F.Cu" signal)
    (31 "B.Cu" signal)
    (36 "B.SilkS" user "B.Silkscreen")
    (37 "F.SilkS" user "F.Silkscreen")
    (44 "Edge.Cuts" user)
  )
  (setup
    (pad_to_mask_clearance 0)
    (allow_soldermask_bridges_in_footprints no)
    (pcbplotparams
      (layerselection 0x00010fc_ffffffff)
      (plot_on_all_layers_selection 0x0000000_00000000)
    )
  )

  ;; Board outline: 80mm x 60mm rectangle on Edge.Cuts
  (gr_line (start 0 0) (end 80 0) (stroke (width 0.05) (type default)) (layer "Edge.Cuts"))
  (gr_line (start 80 0) (end 80 60) (stroke (width 0.05) (type default)) (layer "Edge.Cuts"))
  (gr_line (start 80 60) (end 0 60) (stroke (width 0.05) (type default)) (layer "Edge.Cuts"))
  (gr_line (start 0 60) (end 0 0) (stroke (width 0.05) (type default)) (layer "Edge.Cuts"))

  ;; Mounting hole 1 (top-left)
  (footprint "MountingHole:MountingHole_3.2mm_M3"
    (layer "F.Cu")
    (at 5 5)
    (property "Reference" "H1" (at 0 -3.5) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (pad "" np_thru_hole circle (at 0 0) (size 3.2 3.2) (drill 3.2) (layers "*.Cu" "*.Mask"))
  )

  ;; Mounting hole 2 (top-right)
  (footprint "MountingHole:MountingHole_3.2mm_M3"
    (layer "F.Cu")
    (at 75 5)
    (property "Reference" "H2" (at 0 -3.5) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (pad "" np_thru_hole circle (at 0 0) (size 3.2 3.2) (drill 3.2) (layers "*.Cu" "*.Mask"))
  )

  ;; Mounting hole 3 (bottom-left)
  (footprint "MountingHole:MountingHole_3.2mm_M3"
    (layer "F.Cu")
    (at 5 55)
    (property "Reference" "H3" (at 0 -3.5) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (pad "" np_thru_hole circle (at 0 0) (size 3.2 3.2) (drill 3.2) (layers "*.Cu" "*.Mask"))
  )

  ;; Mounting hole 4 (bottom-right)
  (footprint "MountingHole:MountingHole_3.2mm_M3"
    (layer "F.Cu")
    (at 75 55)
    (property "Reference" "H4" (at 0 -3.5) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (pad "" np_thru_hole circle (at 0 0) (size 3.2 3.2) (drill 3.2) (layers "*.Cu" "*.Mask"))
  )

  ;; USB-C connector at top edge center
  (footprint "Connector_USB:USB_C_Receptacle_GCT_USB4105-xx-A"
    (layer "F.Cu")
    (at 40 0)
    (property "Reference" "J1" (at 0 4) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (property "Value" "USB_C" (at 0 6) (layer "F.Fab") (effects (font (size 1 1) (thickness 0.15))))
    (pad "A1" smd rect (at -3.25 1.5) (size 0.6 1.2) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "A4" smd rect (at -2.25 1.5) (size 0.6 1.2) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "B1" smd rect (at 3.25 1.5) (size 0.6 1.2) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "B4" smd rect (at 2.25 1.5) (size 0.6 1.2) (layers "F.Cu" "F.Paste" "F.Mask"))
    (model "${KICAD9_3DMODEL_DIR}/Connector_USB.3dshapes/USB_C_Receptacle_GCT_USB4105-xx-A.wrl"
      (offset (xyz 0 0 0))
      (scale (xyz 1 1 1))
      (rotate (xyz 0 0 0))
    )
  )

  ;; Pin header connector
  (footprint "Connector_PinHeader_2.54mm:PinHeader_1x04_P2.54mm_Vertical"
    (layer "F.Cu")
    (at 70 30)
    (property "Reference" "J2" (at 0 -3) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (property "Value" "Conn_01x04" (at 0 12) (layer "F.Fab") (effects (font (size 1 1) (thickness 0.15))))
    (pad "1" thru_hole rect (at 0 0) (size 1.7 1.7) (drill 1.0) (layers "*.Cu" "*.Mask"))
    (pad "2" thru_hole oval (at 0 2.54) (size 1.7 1.7) (drill 1.0) (layers "*.Cu" "*.Mask"))
    (pad "3" thru_hole oval (at 0 5.08) (size 1.7 1.7) (drill 1.0) (layers "*.Cu" "*.Mask"))
    (pad "4" thru_hole oval (at 0 7.62) (size 1.7 1.7) (drill 1.0) (layers "*.Cu" "*.Mask"))
    (model "${KICAD9_3DMODEL_DIR}/Connector_PinHeader_2.54mm.3dshapes/PinHeader_1x04_P2.54mm_Vertical.wrl"
      (offset (xyz 0 0 0))
      (scale (xyz 1 1 1))
      (rotate (xyz 0 0 0))
    )
  )

  ;; Generic SMD IC on front side (for component height testing)
  (footprint "Package_SO:SOIC-8_3.9x4.9mm_P1.27mm"
    (layer "F.Cu")
    (at 30 30)
    (property "Reference" "U1" (at 0 -4) (layer "F.SilkS") (effects (font (size 1 1) (thickness 0.15))))
    (pad "1" smd rect (at -2.7 -1.905) (size 1.5 0.6) (layers "F.Cu" "F.Paste" "F.Mask"))
    (pad "8" smd rect (at 2.7 -1.905) (size 1.5 0.6) (layers "F.Cu" "F.Paste" "F.Mask"))
  )

  ;; SMD component on back side
  (footprint "Resistor_SMD:R_0402_1005Metric"
    (layer "B.Cu")
    (at 20 40)
    (property "Reference" "R1" (at 0 -1.5) (layer "B.SilkS") (effects (font (size 0.8 0.8) (thickness 0.12))))
    (pad "1" smd roundrect (at -0.51 0) (size 0.54 0.64) (layers "B.Cu" "B.Paste" "B.Mask") (roundrect_rratio 0.25))
    (pad "2" smd roundrect (at 0.51 0) (size 0.54 0.64) (layers "B.Cu" "B.Paste" "B.Mask") (roundrect_rratio 0.25))
  )
)
